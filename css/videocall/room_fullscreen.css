/*
  --- Fullscreen Overrides ---
  Logic:
  1. By default, when in fullscreen, hide UI elements on ALL video containers.
  2. Then, for the SPECIFIC container that IS the fullscreen element, show its UI back.
  3. This ensures only the name/icons for the fullscreened video are visible.
*/

/* 1. Hide overlays on ALL video containers by default in fullscreen */
:fullscreen .video-container .video-overlay {
    display: none !important;
}
:fullscreen .video-container .camera-off-overlay {
    display: none !important;
}

/* 2. Show the overlays ONLY for the container that is currently fullscreen */
.video-container:fullscreen .video-overlay {
    display: block !important;
    /* ทำให้พื้นหลังไล่สีจางลง เพื่อไม่ให้บดบังวิดีโอมากเกินไป */
    background: linear-gradient(to top, rgba(0, 0, 0, 0.5) 0%, transparent 25%) !important;
}

/* 2.1. ทำให้ไอคอนใหญ่ตรงกลาง (เมื่อปิดกล้อง) แสดงผลด้วย ถ้ามันควรจะแสดง */
.video-container:fullscreen .camera-off-overlay.visible {
    display: flex !important;
}

/* 3. กฎพิเศษสำหรับ Owner: บังคับให้ status-icons แสดงผลเสมอ และมี Glow Effect */
body[data-rank="Owner"] .video-container:fullscreen .status-icons {
    display: flex !important;
}
body[data-rank="Owner"] .video-container:fullscreen .status-icons .icon-cam-off {
    animation: owner-glow 2s infinite alternate; /* เพิ่ม Glow effect */
}


/* --- General Fullscreen UI Cleanup --- */
/* ซ่อนองค์ประกอบอื่นๆ ที่ไม่ต้องการในโหมดเต็มจอ */
:fullscreen #stats-hud,
:fullscreen #toast-container,
:fullscreen #notification-container {
    display: none !important;
}

/* --- Controls Bar in Fullscreen --- */
/* --- จุดแก้ไข: ทำให้ Controls Bar แสดงผลด้านล่างเสมอ --- */
.video-container:fullscreen + #controls-bar,
body:has(.video-container:fullscreen) #controls-bar {
    display: flex !important;
    opacity: 1 !important;
    transform: translateX(-50%) translateY(0) !important;
    transition: opacity 0.3s ease, transform 0.3s ease !important;
}

/* ซ่อน Controls Bar เมื่อไม่ได้ใช้งาน (จะถูกควบคุมโดย JS) */
.video-container:fullscreen + #controls-bar:not(.fullscreen-visible),
body:has(.video-container:fullscreen) #controls-bar:not(.fullscreen-visible) {
    opacity: 0 !important;
    transform: translateX(-50%) translateY(120%) !important;
    pointer-events: none;
}